#!/usr/bin/python3.3

import os, sys, mimetypes, subprocess

def binary_to_odf(file):
    filename = file
    def file_tester(i):
        testfile = sys.argv[1]
        #print(testfile)                                                         
        if not os.path.exists(testfile): print("File doesn't exist")
        contenttype, encoding = mimetypes.guess_type(testfile)
        if contenttype == None or encoding is not None:
            contenttype = '?/?'
        # if is pdf, html, odf, txt - go to standards_open.py
        mimeInfo = 'fileOpen' + str(i)
        fileinfo = open(mimeInfo, 'w')
        fileinfo.write(testfile + "\n")
        fileinfo.write(contenttype)
        fileinfo.close()
        
        return contenttype, mimeInfo
    # subprocess..    
    file_tester(1)
    returned = subprocess.check_output(['./binary_to_odf.sh', 'fileOpen1' ])
    print(returned)

if __name__ == '__main__':
    binary_to_odf(sys.argv[1]) # pass an argument first with the rel. filepath   


